{"version":3,"sources":["tabs/tabset.component.ts"],"names":[],"mappings":"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","file":"tabset.component.js","sourcesContent":["import {Component, OnInit, Input} from 'angular2/core';\nimport {NgClass} from 'angular2/common';\nimport {NgTransclude} from './utils';\nimport {Tab} from './tab.directive';\n@Component({\n    selector: 'tabset',\n    directives: [NgClass, NgTransclude],\n    template: `\n    <ul class=\"nav\" [ngClass]=\"classMap\" (click)=\"$event.preventDefault()\">\n        <li *ngFor=\"#tabz of tabs\" class=\"nav-item\"\n          [class.active]=\"tabz.active\" [class.disabled]=\"tabz.disabled\">\n          <a href class=\"nav-link\"\n            [class.active]=\"tabz.active\" [class.disabled]=\"tabz.disabled\"\n            (click)=\"tabz.active = true\">\n            <span [ngTransclude]=\"tabz.headingRef\">{{tabz.heading}}</span>\n            <span [hidden]=\"!tabz.removable\">\n              <span (click)=\"$event.preventDefault(); removeTab(tabz);\" class=\"glyphicon glyphicon-remove-circle\"></span>\n            </span>\n          </a>\n        </li>\n    </ul>\n    <div class=\"tab-content\">\n      <ng-content></ng-content>\n    </div>\n  `\n})\nexport class Tabset implements OnInit {\n    @Input() private get vertical() {\n        return this._vertical;\n    };\n\n    @Input() private get justified() {\n        return this._justified;\n    };\n\n    @Input() private get type() {\n        return this._type;\n    };\n\n    private set vertical(value) {\n        this._vertical = value;\n        this.setClassMap();\n    }\n\n    private set justified(value) {\n        this._justified = value;\n        this.setClassMap();\n    }\n\n    private set type(value) {\n        this._type = value;\n        this.setClassMap();\n    }\n\n    private setClassMap() {\n        this.classMap = {\n            'nav-stacked': this.vertical,\n            'nav-justified': this.justified,\n            ['nav-' + (this.type || 'tabs')]: true\n        };\n    }\n\n    public tabs:Array<Tab> = [];\n\n    private isDestroyed:boolean;\n    private _vertical:boolean;\n    private _justified:boolean;\n    private _type:string;\n    private classMap:any = {};\n\n    constructor() {\n    }\n\n    ngOnInit() {\n        this.type = this.type !== 'undefined' ? this.type : 'tabs';\n    }\n\n    ngOnDestroy() {\n        this.isDestroyed = true;\n    }\n\n    public addTab(tab:Tab) {\n        this.tabs.push(tab);\n        tab.active = this.tabs.length === 1 && tab.active !== false;\n    }\n\n    public removeTab(tab:Tab) {\n        let index = this.tabs.indexOf(tab);\n        if (index === -1 || this.isDestroyed) {\n            return;\n        }\n        // Select a new tab if the tab to be removed is selected and not destroyed\n        if (tab.active && this.hasAvailableTabs(index)) {\n            let newActiveIndex = this.getClosestTabIndex(index);\n            this.tabs[newActiveIndex].active = true;\n        }\n\n        tab.removed.emit(tab);\n        this.tabs.splice(index, 1);\n    }\n\n    private getClosestTabIndex (index:number):number {\n        let tabsLength = this.tabs.length;\n        if (!tabsLength) {\n            return -1;\n        }\n\n        for (let step = 1; step <= tabsLength; step += 1) {\n            let prevIndex = index - step;\n            let nextIndex = index + step;\n            if (this.tabs[prevIndex] && !this.tabs[prevIndex].disabled) {\n                return prevIndex;\n            }\n            if (this.tabs[nextIndex] && !this.tabs[nextIndex].disabled) {\n                return nextIndex;\n            }\n        }\n        return -1;\n    }\n\n    private hasAvailableTabs (index:number) {\n        let tabsLength = this.tabs.length;\n        if (!tabsLength) {\n            return false;\n        }\n\n        for (let i = 0; i < tabsLength; i += 1) {\n            if (!this.tabs[i].disabled && i !== index) {\n                return true;\n            }\n        }\n        return false;\n    }\n}   "]}